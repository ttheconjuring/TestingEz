<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div th:replace="~{fragments/heads :: head}"></div>
<body class="font">
<div class="d-flex flex-column vh-100 gap-5">
    <div th:replace="~{fragments/headers :: header}"></div>
    <main class="d-flex align-items-center flex-grow-1">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-sm-10 col-md-6">
                    <form
                            novalidate
                            th:method="post"
                            th:object="${testJoinData}"
                            th:action="@{/test/join}"
                            id="testEntranceForm"
                            class="bg-light rounded shadow border border-2 p-5 d-flex flex-column">
                        <div class="mb-3 flex-fill text-center">
                            <label for="testCode" class="form-label fs-4" th:text="#{enterTestCode}">
                            </label>
                            <input
                                    type="text"
                                    th:field="*{code}"
                                    class="form-control border fs-6"
                                    id="testCode"
                                    placeholder="e.g., r%s12#t^"
                                    required
                            />
                            <div th:if="${testNotFound}" class="text-danger fs-6" th:text="#{testNotFound}">
                            </div>
                            <div th:if="${testClosed}" class="text-danger fs-6" th:text="#{testClosed}">
                            </div>
                            <div th:if="${testCompleted}" class="text-danger fs-6">
                                <!-- TODO -->
                                Sorry, you have already attended this test!
                            </div>
                            <div class="text-danger fs-6"
                                 th:errors="*{code}"
                                 th:if="${#fields.hasErrors('code')}">
                            </div>
                        </div>
                        <button
                                type="submit"
                                class="btn btn-dark border border-2 border-black rounded fs-5"
                                th:text="#{join}">
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <div th:replace="~{fragments/footers :: footer}"></div>
</div>
<script
        type="module"
        src="https://cdn.jsdelivr.net/npm/@bufferhead/nightowl@0.0.14/dist/nightowl.js"
></script>
<div th:replace="~{fragments/scripts :: scripts}"></div>
</body>
</html>
